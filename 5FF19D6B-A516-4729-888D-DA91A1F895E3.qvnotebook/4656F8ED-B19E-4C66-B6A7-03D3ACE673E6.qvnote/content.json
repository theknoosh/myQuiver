{
  "title": "Step 3: Curtains with cloth simulation",
  "cells": [
    {
      "type": "text",
      "data": "Create flat plane and subdivide multiple times - make sure subdivisions are square.<div><br></div><div>UV Unwrap plane BEFORE you do anything else:</div><div><img src=\"quiver-image-url/A502C2A25AB09EE729AC99CF6B8867B1.jpg\" width=\"875\" height=\"473\"></div><div><br></div><div>Then select ever other edge and rotate out with pivot point at top center:</div><div><br><div><img src=\"quiver-image-url/45DED66BA80EEF938A648650F96A5621.png\" alt=\"clothPlane01.png\" width=\"960\" height=\"540\"><br></div></div><div><br></div><div>Pin the top edge of the plane to keep it from moving during the cloth simulation. Select the top edge, create a vertex group and <b>assign</b> the top edge to it.</div><div><br></div><div><img src=\"quiver-image-url/21AADDCA6706989955D6A57B0942A0FB.jpg\" width=\"291\" height=\"443\"><br></div><div><br></div><div>Select cloth simulation and click on Pinning and select the Vertex group you created:</div><div><img src=\"quiver-image-url/78136491E5C414ADD0DDD55E1AE6EDFA.jpg\" width=\"294\" height=\"565\"><br></div><div><br></div><div>Add subdivision modifier to add detail. Notice the cloth simulation is there too:</div><div><img src=\"quiver-image-url/AE68EA5161EBB0B123FA866A879B25F3.jpg\" width=\"284\" height=\"412\"><br></div><div><br></div><div>Run the simulation to get something like this:</div><div><br></div><div><img src=\"quiver-image-url/500FDD01546A8141381994722D9FF6FA.gif\" alt=\"curtains01.gif\" width=\"960\" height=\"540\"><br></div><div><br></div><div>Shift-A to add a force field to scene:</div><div><br></div><div><img src=\"quiver-image-url/31BA8AB27AE30FFF887BD4795186B562.jpg\" alt=\"forceSettings.jpg\" width=\"733\" height=\"707\"><br></div><div><br></div><div>Run the simulation:</div><div><img src=\"quiver-image-url/9C6FE2FD913149325480B2E14F1C97DF.gif\" alt=\"forceCurtains.gif\" width=\"960\" height=\"540\"><br></div><div><br></div><div>Shift-D to duplicate the curtain and move the original to a new layer so you can go back and change it if you need to.</div><div><br></div><div>Once you have the curtains where you want them, <b>apply</b> the <b>subdivision modifier</b> and the <b>cloth simulator</b>. This converts the curtain to a mesh and freezes it where it is.</div><div><br></div><div>Now we need to texture the curtains. Use the <b>Diffuse BSDF</b> as a base, add a <b>Translucent BSDF</b> to let light through it. Combine those two with an <b>Add Shader</b>. Then throw those two through a <b>Mix Shader</b> with a <b>Transparent BSDF</b> to make the curtains partially transparent. Block all of this in certain areas with an Image Texture with a black pattern through an <b>Image Texture</b> node.</div><div><br></div><div><img src=\"quiver-image-url/2ABA5E55791DFDBFC415DABF3828611B.jpg\" width=\"985\" height=\"369\"><br></div><div><br></div><div>The result of all of this is below:</div><div><img src=\"quiver-image-url/3BEDD3FB5F2E04DDE28F7C7894E070E1.jpg\" alt=\"render009.jpg\" width=\"960\" height=\"540\"><br></div><div><br></div><div>The texture patterns are too large. By adding a <b>Texture Coordinate</b> node and a <b>Mapping</b> node to change the scale of the pattern:</div><div><img src=\"quiver-image-url/6C567DFA813EB99021EA1E5C8CB99FB0.jpg\" width=\"1032\" height=\"470\"><br></div><div>Since the pattern is rectangular, the y scale should be twice the size of the x scale.</div><div><br></div><div>We can change the color of the black pattern by inserting a <b>color ramp</b> node.</div><div>Notice that the red in the curtains is showing on the wall. Nice!</div><div><img src=\"quiver-image-url/90F2980A055CFD2847940A42CD4B0B18.jpg\" width=\"890\" height=\"534\"><br></div><div><br></div><div>Apparently, the translucentcy should be darker than the diffuse (this is very sutle, and I donâ€™t entirely understand it). Have added</div><div>a MixRGB shader so that the red color is mixed with a black color:</div><div><img src=\"quiver-image-url/2E61B54E9F575BD77AC932D5C4F664E5.jpg\" width=\"918\" height=\"509\"><br></div><div><br></div><div>Changing the color on the other side of the ramp changes the white color in the curtains:</div><div><img src=\"quiver-image-url/118E41432CD55C1A51982C8DCEEDECB7.jpg\" width=\"975\" height=\"555\"><br></div><div><br></div><div>To add a seam to the bottom of the curtains, duplicated the texture, assigned to the last row of faces, deleted the transparency and the the image pattern:</div><div><br></div><div><img src=\"quiver-image-url/0664264A78E2F9D4CB48BD5835347767.jpg\" width=\"1255\" height=\"567\"><br></div><div><br></div><div>Full render to this point:</div><div><img src=\"quiver-image-url/10285D93677C362D80508D2336121EEA.jpg\" alt=\"render010.jpg\" width=\"960\" height=\"540\"><br></div><div><br></div>"
    }
  ]
}